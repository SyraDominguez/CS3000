{% extends "base.html" %}

{% block page_title %}
<h3>LAST MOVEMENTS</h3>
{% endblock page_title %}

{% block contenido %}
 <div class="grid">
    <table class="paper">
        <tr>
            <th class ="titulo-tabla">Date</th>
            <th class ="titulo-tabla">Time</th>
            <th class ="titulo-tabla">Origin</th>
            <th class ="titulo-tabla">Q_Invest</th>
            <th class ="titulo-tabla">Buy</th>
            <th class ="titulo-tabla">Q_Invest</th>
            <th class="titulo-tabla precio-unitario">P.U</th>
        </tr>
    
        {% if movs %}
            {% for m in movs %}
                <tr {% if m.has_errors %} class = "error" {% endif %}>
                    <td>
                        {% if m.fecha %}
                            {{ m.fecha }}
                        {% else %}
                            ---
                        {% endif %}
                    </td>
                    <td>{{ m.concepto }}</td>
                    <td>
                        {% if m.tipo == 'I' %}
                        Ingreso 
                        {% else %}
                        Gasto
                        {%endif%}
                    </td>
                    <td class="numero">{{ m.cantidad }}</td>
                    <td class="acciones" class="box">
                        <a href="/editar/{{ m.id }}" class="mini-boton update">
                            <i class="fa-solid fa-pen-to-square"></i>
                        </a>
                        <a href="/borrar/{{ m.id }}" class="mini-boton delete">
                            <i class="fa-solid fa-trash"></i>
                        </a>
                    </td>
                </tr>
            {% if m.has_errors %}
                <tr>
                    <td></td>
                    <td colspan="3">
                        {% for error in m.errores %}
                            <p class="error">{{ error }}</p>
                        {% endfor %}
                    </td>
                </tr>
            {% endif %}
            {%endfor%}
        {% else %}
            <tr>
                <td colspan = "7" class="lista-vacia">NO MOVEMENTS</td>
            </tr>
        {% endif %}
    </table>
 </ class="grid">
{% endblock contenido%}